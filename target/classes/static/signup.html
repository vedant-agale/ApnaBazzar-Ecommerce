<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sign Up - Apna Bazaar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light d-flex align-items-center justify-content-center" style="height: 100vh;">
    <div class="card p-4 shadow-sm" style="width: 400px;">
        <h3 class="text-center">Create Account</h3>
        <input type="text" id="reg-username" class="form-control mb-3" placeholder="Username">
        <input type="email" id="reg-email" class="form-control mb-3" placeholder="Email">
        <input type="password" id="reg-password" class="form-control mb-3" placeholder="Password">
        <button onclick="handleSignUp()" class="btn btn-success w-100">Register üìù</button>
        <p class="mt-3 text-center">Already have an account? <a href="login.html">Login</a></p>
    </div>

    <script>
        async function handleSignUp() {
            const user = {
                username: document.getElementById('reg-username').value,
                email: document.getElementById('reg-email').value,
                password: document.getElementById('reg-password').value
            };

            const response = await fetch('http://localhost:8080/api/users/register', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(user)
            });

            if (response.ok) {
                alert("Account created! Ab login karein.");
                window.location.href = "login.html";
            } else {
                alert("Sign Up failed!");
            }
        }
    </script>
</body>
</html>